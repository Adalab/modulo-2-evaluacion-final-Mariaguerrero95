const l=document.querySelector(".js-input"),p=document.querySelector(".js-search"),f=document.querySelector(".js-container"),h=document.querySelector(".js-favorites");let s=[],o=[];const d=localStorage.getItem("favorites");d!==null&&(s=JSON.parse(d));function u(e,t){t.innerHTML="";for(const r of e){const i=document.createElement("div");i.id=r.mal_id;const n=document.createElement("h2"),m=document.createTextNode(r.title);n.appendChild(m);const c=document.createElement("img"),a=r.images.jpg.image_url;a==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?c.setAttribute("src","https://via.placeholder.com/210x295/ffcc00/666666/?text=Anime"):(c.setAttribute("src",a),c.onerror=function(){c.setAttribute("src","https://via.placeholder.com/210x295/ffcc00/666666/?text=Anime")}),i.appendChild(n),i.appendChild(c),t.appendChild(i),i.addEventListener("click",v)}}function v(e){const t=e.currentTarget.id,r=s.find(n=>t==n.mal_id);o.findIndex(n=>(console.log(t),t==n.mal_id))===-1&&(o.push(r),localStorage.setItem("favoritos",JSON.stringify(o)),u(o,h))}const S=()=>{l.value,fetch(`https://api.jikan.moe/v4/anime?q=${l.value}`).then(e=>e.json()).then(e=>{s=e.data,u(s,f)})};function g(e){e.preventDefault(),S()}p.addEventListener("click",g);
//# sourceMappingURL=main.js.map
