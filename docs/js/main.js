const l=document.querySelector(".js-input"),S=document.querySelector(".js-search"),f=document.querySelector(".js-container"),p=document.querySelector(".js-favorites");let d=[],n=[];const m=localStorage.getItem("favorites");m!==null&&(n=JSON.parse(m));function v(e,r){var c,s;r.innerHTML="";for(const t of e){const i=document.createElement("div");i.id=t.mal_id,n.some(h=>h.mal_id===t.mal_id)&&(i.style.backgroundColor="#f3fbe1",i.style.color="rgb(66, 236, 227)");const u=document.createElement("h2"),g=document.createTextNode(t.title);u.appendChild(g);const o=document.createElement("img"),a=(s=(c=t.images)==null?void 0:c.jpg)==null?void 0:s.image_url;!a||a==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?o.setAttribute("src","https://via.placeholder.com/210x295/ffcc00/666666/?text=Anime"):(o.setAttribute("src",a),o.onerror=function(){o.setAttribute("src","https://via.placeholder.com/210x295/ffcc00/666666/?text=Anime")}),i.appendChild(u),i.appendChild(o),r.appendChild(i),i.addEventListener("click",x)}}function x(e){const r=e.currentTarget.id,c=d.find(t=>r==t.mal_id);n.findIndex(t=>(console.log(r),r==t.mal_id))===-1&&(n.push(c),localStorage.setItem("favorites",JSON.stringify(n)),v(n,p))}const y=()=>{l.value,fetch(`https://api.jikan.moe/v4/anime?q=${l.value}`).then(e=>e.json()).then(e=>{console.log(e),d=e.data,v(d,f)})};function j(e){e.preventDefault(),y()}S.addEventListener("click",j);const L=document.querySelector(".js-reset");function k(){n=[],localStorage.removeItem("favorites"),f.innerHTML="",p.innerHTML="",l.value=""}L.addEventListener("click",k);
//# sourceMappingURL=main.js.map
