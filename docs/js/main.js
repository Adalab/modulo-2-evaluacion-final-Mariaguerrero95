const l=document.querySelector(".js-input"),S=document.querySelector(".js-search"),f=document.querySelector(".js-container"),p=document.querySelector(".js-favorites");let d=[],i=[];const m=localStorage.getItem("favorites");m!==null&&(i=JSON.parse(m));function v(e,o){var c,s;o.innerHTML="";for(const t of e){const n=document.createElement("div");n.id=t.mal_id,i.some(h=>h.mal_id===t.mal_id)&&(n.style.backgroundColor="#f3fbe1",n.style.color="rgb(66, 236, 227)");const u=document.createElement("h2"),g=document.createTextNode(t.title);u.appendChild(g);const r=document.createElement("img"),a=(s=(c=t.images)==null?void 0:c.jpg)==null?void 0:s.image_url;!a||a==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?r.setAttribute("src","https://via.placeholder.com/210x295/ffcc00/666666/?text=Anime"):(r.setAttribute("src",a),r.onerror=function(){r.setAttribute("src","https://via.placeholder.com/210x295/ffcc00/666666/?text=Anime")}),n.appendChild(u),n.appendChild(r),o.appendChild(n),n.addEventListener("click",x)}}function x(e){const o=e.currentTarget.id,c=d.find(t=>o==t.mal_id);i.findIndex(t=>(console.log(o),o==t.mal_id))===-1&&(i.push(c),localStorage.setItem("favorites",JSON.stringify(i)),console.log("Favoritos actualizados",i),v(i,p))}const y=()=>{l.value,fetch(`https://api.jikan.moe/v4/anime?q=${l.value}`).then(e=>e.json()).then(e=>{console.log(e),d=e.data,v(d,f)})};function j(e){e.preventDefault(),y()}S.addEventListener("click",j);const L=document.querySelector(".js-reset");function k(){i=[],localStorage.removeItem("favorites"),f.innerHTML="",p.innerHTML="",l.value=""}L.addEventListener("click",k);
//# sourceMappingURL=main.js.map
